{%extends 'base.html'%}
{% block content %}
<div class="container">
  <div class="row">

    <div class=" col-lg-11 text-center" style="height: 500px;">
      <div class="panel" style="height:500px;margin-bottom:20px;">
        <div class="panel-body">
          <a href="{% url 'allProjects' id=project.id %}">
            <img class="img-responsive" src="{{project.image.url}}" style="height:350px;width:100%;">
          </a>
          <div class="panel-footer">
            <div class="text"> <b>Application Name:</b>{{project.title}}</div>
            <br>
            <div>
              <a href="{{project.link}}" class="btn btn-primary">View</a>
              <a href="{% url 'review' project_id=project.id%}" class="btn btn-primary">Rate</a>
            </div>
            <br>
            <p><b>Posted By: </b>{{project.user}}</p>
          </div>
        </div>
      </div>
    </div>

  </div>
  <br>
  <br>
  <div class="row">
    {% if reviews %}
    <div class="col-md-3">
      <p class="text-center">REVIEWER</p>
      
    </div>

    <div class="col-md-3">
      <p class="text-center">DESIGN</p>
      <p>{{project.avg_design |floatformat}}</p>
    </div>


    <div class="col-md-3">
      <p class="text-center">USABILITY</p>
      <p>{{project.avg_usability |floatformat}}</p>
    </div>


    <div class="col-md-3">
      <p class="text-center">CONTENT</p>
      <p> {{project.avg_content |floatformat}}</p>
    </div>
  </div>
  {%else%}
  <h3 style="padding-left:400px;">This project has no ratings</h3>
  {%endif%}
</div>
<div class="col-md-1"></div>
</div>
<br>
<br>
<div class="container">
  {% for review in reviews %}
  <div class="row">
    {% if project.id == review.project.id %}
    <div>
      Rating by : <b> {{review.user.username}}</b></div>
    <div class="col-md-2"></div>
    <div class="col-md-2">
      <button type="button" class="btn btn-info btn-lg">{{review.design}}</button>
    </div>
    <div class="col-md-2">
      <button type="button" class="btn btn-primary btn-lg">
        {{review.usability}}

      </button>
    </div>
    <div class="col-md-2">
      <button type="button" class="btn btn-success btn-lg">{{review.content}}</button>
    </div>
    <div class="col-md-2">
      <button type="button" class="btn btn-secondary btn-lg">{{review.average}}</button>
    </div>
    {%endif%}
  </div>
  <hr>
  <br>
  {% endfor %}
  </p>
</div>
</div>
{% endblock %}